---
layout: default
title: Nurbs with collision detection
---

<div class="labs-container">
    <canvas id="canvas" width="640" height="640"></canvas>
    <script>
      function startAnimating(a){fpsInterval=1e3/a,then=Date.now(),startTime=then,drawQuads(ctx,!0,directionalBooleans)}function initializeQuads(a,t,r,e,n,o,c){var u=630;for(i=0;r>i;i++){var d,s,h=Math.floor(Math.random()*u+1),m=Math.floor(Math.random()*maxHeight+1),l=Math.floor(4*Math.random())+1;switch(l){case 1:d=h+Math.floor(Math.random()*-c-c),s=m+Math.floor(Math.random()*-c-c);break;case 2:d=h+Math.floor(Math.random()*-c-c),s=m-Math.floor(Math.random()*-c-c);break;case 3:d=h-Math.floor(Math.random()*-c-c),s=m-Math.floor(Math.random()*-c-c);break;case 4:d=h-Math.floor(Math.random()*-c-c),s=m+Math.floor(Math.random()*-c-c);break;default:d=h+Math.floor(Math.random()*-c-c),s=m+Math.floor(Math.random()*-c-c)}n.beginPath(),n.moveTo(h,m);var f=h+Math.floor(-200*Math.random()-2),v=m+Math.floor(-200*Math.random()-2);n.quadraticCurveTo(f,v,d,s),currentQuadraticCurves.push({a:{x:h,y:m},b:{x:f,y:v},c:{x:d,y:s}}),n.lineWidth=10,n.strokeStyle="#fefefe",n.stroke(),n.closePath()}}function drawQuads(a,t,r){function e(){var t=ctx.createLinearGradient(0,0,ctx.canvas.width,ctx.canvas.height);for(t.addColorStop(0,"rgb(255,0,255)"),t.addColorStop(1,"rgb(0,255,90)"),ctx.fillStyle=t,ctx.fillRect(0,0,window.innerWidth,window.innerHeight),i=0;i<currentQuadraticCurves.length;i++){var e=r[0]?currentQuadraticCurves[i].a.x++:currentQuadraticCurves[i].a.x--,n=r[1]?currentQuadraticCurves[i].a.y++:currentQuadraticCurves[i].a.y--,o=r[2]?currentQuadraticCurves[i].b.x++:currentQuadraticCurves[i].b.x--,c=r[3]?currentQuadraticCurves[i].b.y++:currentQuadraticCurves[i].b.y--,u=r[4]?currentQuadraticCurves[i].c.x++:currentQuadraticCurves[i].c.x--,d=r[5]?currentQuadraticCurves[i].c.y++:currentQuadraticCurves[i].c.y--;a.beginPath(),a.moveTo(e,n),a.quadraticCurveTo(o,c,u,d),a.lineWidth=10,a.strokeStyle="#fefefe",a.stroke(),a.closePath()}}t?(animationFrame=requestAnimationFrame(function(){drawQuads(ctx,!0,r)}),now=Date.now(),elapsed=now-then,elapsed>fpsInterval&&(then=now-elapsed%fpsInterval,a.clearRect(0,0,c.width,c.height),e())):e()}window.requestAnimationFrame||(window.requestAnimationFrame=function(){return window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}());var c=document.getElementById("canvas"),ctx=c.getContext("2d"),maxHeight=1080,animationFrame,then,fpsInterval,animationFrame,currentQuadraticCurves=[],directionalBooleans=[];for(i=0;6>i;i++)directionalBooleans.push(Math.random()>=.5);initializeQuads(200,300,9,10,ctx,!0,30),startAnimating(24);
    </script>
</div>